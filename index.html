<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <link rel="stylesheet" href="example/styles/main.css">
        <title>nonameJS</title>
    </head>
    <body>

        <p class="loading" style="position: absolute; z-index: 1;">loading</p>
        <div class="screen"></div>
        <div class="logger"></div>
        <div class="logger-controls">
            <div class="logger-control logger-up">up</div>
            <br />
            <div class="logger-control logger-down">down</div>
            <br />
            <div class="logger-control logger-deeper">deeper</div>
            <br />
            <div class="logger-control logger-shallower">shallower</div>
        </div>

        <script>
            var loggerElement = document.querySelector('.logger');
            var loggerDown = document.querySelector('.logger-down');
            var loggerUp = document.querySelector('.logger-up');
            var loggerDeeper = document.querySelector('.logger-deeper');
            var loggerShallower = document.querySelector('.logger-shallower');
            var scrollingUp = false;
            var scrollingDown = false;
            var getScroll = function (_event) {

                var targetPosition = null;
                var targetWith = null;
                var targetTouchPosition = null;

                if (_event.constructor.name === 'MouseEvent') {
                    targetPosition = _event.target.getBoundingClientRect().left;
                    targetWith = _event.target.clientWidth;
                    targetTouchPosition = Math.floor(_event.pageX - targetPosition);
                }

                if (_event.constructor.name === 'TouchEvent') {
                    targetPosition = _event.targetTouches[0].target.getBoundingClientRect().left;
                    targetWith = _event.targetTouches[0].target.clientWidth;
                    targetTouchPosition = Math.floor(_event.targetTouches[0].pageX - targetPosition);
                }

                var intensity = targetTouchPosition * 100 / targetWith;
                var scroll = window.innerHeight * intensity / 100 * 2;
                return scroll;
            }
            loggerDown.onmousedown = function (_event) {
                _event.preventDefault();
                loggerElement.scrollTop += getScroll(_event);
            }
            loggerUp.onmousedown = function (_event) {
                _event.preventDefault();
                loggerElement.scrollTop -= getScroll(_event);
            }
            loggerDown.ontouchstart = function (_event) {
                _event.preventDefault();
                loggerElement.scrollTop += getScroll(_event);
            }
            loggerUp.ontouchstart = function (_event) {
                _event.preventDefault();
                loggerElement.scrollTop -= getScroll(_event);
            }
            loggerDeeper.onmousedown = function (_event) {
                _event.preventDefault();
                logger.goDeeper();
            }
            loggerShallower.onmousedown = function (_event) {
                _event.preventDefault();
                logger.goShallower();
            }
            loggerDeeper.ontouchstart = function (_event) {
                _event.preventDefault();
                logger.goDeeper();
            }
            loggerShallower.ontouchstart = function (_event) {
                _event.preventDefault();
                logger.goShallower();
            }

        </script>

        <script src="libs/box2dweb.js"></script>
        <script src="libs/logger.js"></script>

        <script src="noname/state/stateManager.js"></script>
        <script src="noname/loop/loopManager.js"></script>
        <script src="noname/assets/assetManager.js"></script>
        <script src="noname/math/mathManager.js"></script>
        <script src="noname/entities/entityManager.js"></script>
        <script src="noname/time/timeManager.js"></script>
        <script src="noname/render/renderManager.js"></script>
        <script src="noname/physics/box2dManager.js"></script>
        <script src="noname/audio/audioManager.js"></script>
        <script src="noname/audio/track.js"></script>
        <script src="noname/game/game.js"></script>
        <script src="noname/render/camera.js"></script>
        <script src="noname/state/state.js"></script>
        <script src="noname/entities/entity.js"></script>
        <script src="noname/time/clock.js"></script>
        <script src="noname/time/timeEvent.js"></script>
        <script src="noname/inputs/keys.js"></script>
        <script src="noname/inputs/fingers.js"></script>
        <script src="noname/events/eventManager.js"></script>
        <script src="noname/events/event.js"></script>
        <script src="noname/events/eventListener.js"></script>
        <script src="noname/components/transformComponent.js"></script>
        <script src="noname/components/imageComponent.js"></script>
        <script src="noname/components/spriteComponent.js"></script>
        <script src="noname/components/tileSpriteComponent.js"></script>
        <script src="noname/components/box2dComponent.js"></script>
        <script src="noname/noname.js"></script>

        <script src="example/scripts/states/mapState.js"></script>
        <script src="example/scripts/states/myState.js"></script>
        <script src="example/scripts/states/physicsState.js"></script>
        <script src="example/scripts/states/keysState.js"></script>
        <script src="example/scripts/states/fingersState.js"></script>
        <script src="example/scripts/states/audioState.js"></script>
        <script src="example/scripts/states/eventsState.js"></script>
        <script src="example/scripts/states/entitiesState.js"></script>
        <script src="example/scripts/states/timeState.js"></script>

        <script src="example/scripts/entities/player.js"></script>
        <script src="example/scripts/entities/spaceship.js"></script>

        <script src="example/scripts/main.js"></script>
    </body>
</html>
